import { Injectable } from "@angular/core";
import { HttpClient } from '@angular/common/http';
import { map, tap } from 'rxjs/operators';
import {of} from 'rxjs'
@Injectable({
    providedIn: 'root'
})
export class BitcoinService {

    constructor(private http: HttpClient) { }
    getRate() {
        //return bitcoin rate 
    }
    getMarketPrice() {
        // return this.http.get<{ values: Array<object> }>('https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true')
        //     .pipe(
        //         tap(res => console.log(res)),
        //         map(res => res.values)
        //     )
        return of(gMarketPrices)
    }
    getConfirmedTransactions() {
        return this.http.get<{ values: Array<object> }>('https://api.blockchain.info/charts/n-transactions?timespan=5months&format=json&cors=true')
            .pipe(
                tap(res => console.log(res , 'res is ')),
                map(res => res)
            )
    }
    // getConfirmedTransactions() {
    //     return this.http
    //         .get<Array<Object>>('https://api.blockchain.info/charts/n-transactions?timespan=5months&format=json&cors=true')
    //         .pipe(
    //             map(res => res)
    //         )
    // }
  


}

const gMarketPrices = [{ "x": 1611187200, "y": 35538.98 }, { "x": 1611273600, "y": 30797.88 }, { "x": 1611360000, "y": 33002.38 }, { "x": 1611446400, "y": 32099.74 }, { "x": 1611532800, "y": 32276.84 }, { "x": 1611619200, "y": 32243.26 }, { "x": 1611705600, "y": 32541.8 }, { "x": 1611792000, "y": 30419.17 }, { "x": 1611878400, "y": 33403.17 }, { "x": 1611964800, "y": 34314.26 }, { "x": 1612051200, "y": 34318.1 }, { "x": 1612137600, "y": 33136.46 }, { "x": 1612224000, "y": 33522.9 }, { "x": 1612310400, "y": 35529.66 }, { "x": 1612396800, "y": 37676.25 }, { "x": 1612483200, "y": 37002.09 }, { "x": 1612569600, "y": 38278.61 }, { "x": 1612656000, "y": 39323.26 }, { "x": 1612742400, "y": 38928.1 }, { "x": 1612828800, "y": 46364.3 }, { "x": 1612915200, "y": 46589.58 }, { "x": 1613001600, "y": 44878.17 }, { "x": 1613088000, "y": 48013.38 }, { "x": 1613174400, "y": 47471.4 }, { "x": 1613260800, "y": 47185.19 }, { "x": 1613347200, "y": 48720.37 }, { "x": 1613433600, "y": 47951.85 }, { "x": 1613520000, "y": 49160.1 }, { "x": 1613606400, "y": 52118.23 }, { "x": 1613692800, "y": 51608.15 }, { "x": 1613779200, "y": 55916.5 }, { "x": 1613865600, "y": 56001.2 }, { "x": 1613952000, "y": 57487.86 }, { "x": 1614038400, "y": 54123.4 }, { "x": 1614124800, "y": 48880.43 }, { "x": 1614211200, "y": 50624.84 }, { "x": 1614297600, "y": 46800.42 }, { "x": 1614384000, "y": 46340.31 }, { "x": 1614470400, "y": 46155.87 }, { "x": 1614556800, "y": 45113.92 }, { "x": 1614643200, "y": 49618.43 }, { "x": 1614729600, "y": 48356.04 }, { "x": 1614816000, "y": 50477.7 }, { "x": 1614902400, "y": 48448.91 }, { "x": 1614988800, "y": 48861.38 }, { "x": 1615075200, "y": 48881.59 }, { "x": 1615161600, "y": 51169.7 }, { "x": 1615248000, "y": 52299.33 }, { "x": 1615334400, "y": 54881.52 }, { "x": 1615420800, "y": 55997.23 }, { "x": 1615507200, "y": 57764.0 }, { "x": 1615593600, "y": 57253.28 }, { "x": 1615680000, "y": 61258.73 }, { "x": 1615766400, "y": 59133.47 }, { "x": 1615852800, "y": 55754.72 }, { "x": 1615939200, "y": 56872.38 }, { "x": 1616025600, "y": 58913.0 }, { "x": 1616112000, "y": 57665.9 }, { "x": 1616198400, "y": 58075.1 }, { "x": 1616284800, "y": 58085.8 }, { "x": 1616371200, "y": 57411.17 }, { "x": 1616457600, "y": 54204.96 }, { "x": 1616544000, "y": 54477.46 }, { "x": 1616630400, "y": 52508.23 }, { "x": 1616716800, "y": 51415.92 }, { "x": 1616803200, "y": 55074.47 }, { "x": 1616889600, "y": 55863.93 }, { "x": 1616976000, "y": 55783.71 }, { "x": 1617062400, "y": 57627.67 }, { "x": 1617148800, "y": 58730.13 }, { "x": 1617235200, "y": 58735.25 }, { "x": 1617321600, "y": 58736.92 }, { "x": 1617408000, "y": 59031.32 }, { "x": 1617494400, "y": 57076.49 }, { "x": 1617580800, "y": 58206.55 }, { "x": 1617667200, "y": 59054.1 }, { "x": 1617753600, "y": 58020.46 }, { "x": 1617840000, "y": 55947.27 }, { "x": 1617926400, "y": 58048.59 }, { "x": 1618012800, "y": 58102.58 }, { "x": 1618099200, "y": 59774.0 }, { "x": 1618185600, "y": 59964.87 }, { "x": 1618272000, "y": 59834.74 }, { "x": 1618358400, "y": 63554.44 }, { "x": 1618444800, "y": 62969.12 }, { "x": 1618531200, "y": 63252.63 }, { "x": 1618617600, "y": 61455.98 }, { "x": 1618704000, "y": 60087.09 }, { "x": 1618790400, "y": 56251.48 }, { "x": 1618876800, "y": 55703.14 }, { "x": 1618963200, "y": 56507.91 }, { "x": 1619049600, "y": 53808.8 }, { "x": 1619136000, "y": 51731.71 }, { "x": 1619222400, "y": 51153.13 }, { "x": 1619308800, "y": 50110.53 }, { "x": 1619395200, "y": 49075.58 }, { "x": 1619481600, "y": 54056.64 }, { "x": 1619568000, "y": 55071.46 }, { "x": 1619654400, "y": 54884.1 }, { "x": 1619740800, "y": 53584.15 }, { "x": 1619827200, "y": 57796.62 }, { "x": 1619913600, "y": 57857.5 }, { "x": 1620000000, "y": 56610.46 }, { "x": 1620086400, "y": 57213.33 }, { "x": 1620172800, "y": 53241.72 }, { "x": 1620259200, "y": 57473.23 }, { "x": 1620345600, "y": 56428.16 }, { "x": 1620432000, "y": 57380.27 }, { "x": 1620518400, "y": 58928.81 }, { "x": 1620604800, "y": 58280.73 }, { "x": 1620691200, "y": 55883.5 }, { "x": 1620777600, "y": 56750.0 }, { "x": 1620864000, "y": 49007.09 }, { "x": 1620950400, "y": 49702.27 }, { "x": 1621036800, "y": 49922.52 }, { "x": 1621123200, "y": 46736.58 }, { "x": 1621209600, "y": 46441.64 }, { "x": 1621296000, "y": 43596.24 }, { "x": 1621382400, "y": 42912.19 }, { "x": 1621468800, "y": 36964.27 }, { "x": 1621555200, "y": 40784.32 }, { "x": 1621641600, "y": 37280.35 }, { "x": 1621728000, "y": 37528.3 }, { "x": 1621814400, "y": 34754.54 }, { "x": 1621900800, "y": 38728.59 }, { "x": 1621987200, "y": 38410.5 }, { "x": 1622073600, "y": 39266.04 }, { "x": 1622160000, "y": 38445.29 }, { "x": 1622246400, "y": 35689.62 }, { "x": 1622332800, "y": 34647.67 }, { "x": 1622419200, "y": 35684.59 }, { "x": 1622505600, "y": 37310.54 }, { "x": 1622592000, "y": 36662.64 }, { "x": 1622678400, "y": 37585.24 }, { "x": 1622764800, "y": 39188.59 }, { "x": 1622851200, "y": 36885.51 }, { "x": 1622937600, "y": 35530.38 }, { "x": 1623024000, "y": 35816.17 }, { "x": 1623110400, "y": 33514.87 }, { "x": 1623196800, "y": 33450.19 }, { "x": 1623283200, "y": 37338.36 }, { "x": 1623369600, "y": 36704.57 }, { "x": 1623456000, "y": 37313.18 }, { "x": 1623542400, "y": 35494.9 }, { "x": 1623628800, "y": 39066.82 }, { "x": 1623715200, "y": 40525.8 }, { "x": 1623801600, "y": 40188.56 }, { "x": 1623888000, "y": 38324.87 }, { "x": 1623974400, "y": 38068.04 }, { "x": 1624060800, "y": 35729.82 }, { "x": 1624147200, "y": 35524.17 }]